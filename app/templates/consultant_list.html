{% extends "base.html" %}
{% block title %}Consultant Profielen{% endblock %}
{% block content %}

<h1 class="page-title">Consultant Profielen</h1>

{% set current_sort = sort_by if sort_by is defined else 'relevance' %}

<div class="mode-selector-container">
Â  Â  <h2 class="h5">Kies uw zoekmodus:</h2>
Â  Â  
Â  Â  <a href="{{ url_for('main.consultants_list', sort_by='relevance') }}" 
Â  Â  Â  Â  class="mode-btn {% if current_sort == 'relevance' %}active-mode{% else %}inactive-mode{% endif %}">
Â  Â  Â  Â  ðŸ§  IConsult Match (Beste Relevantie)
Â  Â  </a>

Â  Â  <a href="{{ url_for('main.consultants_list', sort_by='title') }}" 
Â  Â  Â  Â  class="mode-btn {% if current_sort != 'relevance' %}active-mode{% else %}inactive-mode{% endif %}">
Â  Â  Â  Â  ðŸ”§ Handmatige Filter & Sortering
Â  Â  </a>
</div>

<form method="GET" action="{{ url_for('main.consultants_list') }}" class="filter-form">
Â  Â  
Â  Â  <input type="hidden" name="sort_by" value="{{ current_sort }}">

Â  Â  
Â  Â  {% if current_sort != 'relevance' %}
Â  Â  Â  Â  <p class="form-instruction">Gebruik onderstaande velden om handmatig te filteren. Resultaten worden gesorteerd op Naam (A-Z).</p>

Â  Â  Â  Â  <div class="input-grid manual-filter-grid">
Â  Â  Â  Â  Â  Â  <input type="text" name="q" placeholder="Zoek op Naam/Specialisatie/Bio" value="{{ request.args.get('q', '') }}">
Â  Â  Â  Â  Â  Â  <input type="text" name="city" placeholder="Stad" value="{{ request.args.get('city', '') }}">
Â  Â  Â  Â  Â  Â  <input type="text" name="country" placeholder="Land" value="{{ request.args.get('country', '') }}">
            <div class="empty-col"></div> {# Extra lege kolom voor layout #}
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="skills-filter">
Â  Â  Â  Â  Â  Â  <label class="skills-label">Skills (filteren - *Consultant moet alle aangevinkte skills bezitten*):</label>
Â  Â  Â  Â  Â  Â  <div class="skills-checkboxes">
Â  Â  Â  Â  Â  Â  Â  Â  {% for skill in skills %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="skill-label">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" name="skills" value="{{ skill.id }}"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% if request.args.getlist('skills') and skill.id|string in request.args.getlist('skills') %}checked{% endif %}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {{ skill.name }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button type="submit" class="btn btn-primary apply-btn">Filters Toepassen</button>
Â  Â  Â  Â  <a href="{{ url_for('main.consultants_list', sort_by='title') }}" class="btn btn-secondary reset-btn">Reset Filters</a>

Â  Â  {% else %}
Â  Â  Â  Â  <p class="alert alert-info">
Â  Â  Â  Â  Â  Â  De **IConsult Match** rangschikt consultants automatisch op basis van de relevantie voor **uw meest recente Job Post**. Gebruik het zoekveld om handmatig te verfijnen.
Â  Â  Â  Â  </p>
Â  Â  Â  Â  
Â  Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  Â  Â  Â <input type="text" name="q" placeholder="Verfijn zoekopdracht (wordt meegenomen in de score)" value="{{ request.args.get('q', '') }}">
Â  Â  Â  Â  Â  Â  Â <button type="submit" class="btn btn-primary">Zoek & Herbereken Score</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  {% endif %}

</form>

<div class="job-grid" style="margin-top: 20px;">
Â  Â  {% for c in consultants %}
    
Â  Â  {# Bepaal de klasse voor de badge op basis van de score #}
Â  Â  {% if current_sort == 'relevance' and c.score is defined %}
Â  Â  Â  Â  {% set match_score_perc = (c.score * 100) | round(0) %}
Â  Â  Â  Â  {% set match_class = 'match-high' %}
Â  Â  Â  Â  {% if match_score_perc < 20 %}
Â  Â  Â  Â  Â  Â  {% set match_class = 'match-low' %}
Â  Â  Â  Â  {% elif match_score_perc >= 20 and match_score_perc <= 40 %}
Â  Â  Â  Â  Â  Â  {% set match_class = 'match-medium' %}
Â  Â  Â  Â  {% endif %}
Â  Â  {% endif %}
    
Â  Â  <div class="job-card">
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  <div class="job-meta-top">
            {# VASTE BADGE VOOR CONSULTANT #}
            <span class="contract-type-tag"><i class="fas fa-user-tie"></i> Consultant</span> 
            
            {% if c.location_city or c.country %}
Â  Â  Â  Â  Â  Â  Â  Â  <span class="job-location">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-map-marker-alt"></i> {{ c.location_city }}{% if c.location_city and c.country %}, {% endif %}{{ c.country }}
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  {% endif %}
        </div>

Â  Â  Â  Â  Â  Â  <h3 class="job-title-link">
Â  Â  Â  Â  Â  Â  <a href="{{ url_for('main.consultant_detail', profile_id=c.id) }}">{{ c.display_name }}</a>
Â  Â  Â  Â  Â  </h3> 
Â  Â  Â  Â  
        {% if c.specialisation %}
Â  Â  Â  Â  <p class="company-name">Specialisatie: {{ c.specialisation }}</p>
        {% endif %}

Â  Â  Â  Â  Â  Â  <div class="required-skills-summary">
Â  Â  Â  Â  Â  Â  <label class="skills-label-small"><i class="fas fa-tools"></i> Skills Consultant:</label>
Â  Â  Â  Â  Â  Â  <div class="skill-tags-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  {% for skill in c.skills[:3] %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="required-skill-tag">{{ skill.name }}</span>
Â  Â  Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  Â  Â  Â  {% if c.skills|length > 3 %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="required-skill-tag more-skills"><i class="fas fa-plus-circle"></i> {{ c.skills|length - 3 }} meer</span>
Â  Â  Â  Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  {% if current_sort == 'relevance' and c.score is defined %}
Â  Â  Â  Â  Â  Â  <div class="score-summary">
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  {# KLASSE IS DYNAMISCH #}
Â  Â  Â  Â  Â  Â  Â  Â  <span class="relevance-badge {{ match_class }}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-check-circle"></i> Match: **{{ match_score_perc }}%**
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <details class="breakdown-details">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <summary><i class="fas fa-chart-bar"></i> Score Uitsplitsing</summary>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="score-breakdown">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% set total_score_perc = (c.score * 100) %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# SKILLS (50%) #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bar-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-label"><i class="fas fa-star"></i> Skills (50%):</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# Unweighted score (0-100) voor de breedte van de balk #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% set skill_unweighted_perc = (c.score_breakdown.skill * 100) if c.score_breakdown.skill is defined else 0 %}
                            {# Weighted score (0-50) voor de weergegeven waarde #}
                            {% set skill_weighted_perc = (c.score_breakdown.skill * 50) if c.score_breakdown.skill is defined else 0 %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar skill-bar" style="width: {{ skill_unweighted_perc | round(0) }}%;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-value">{{ skill_weighted_perc | round(1) }}%</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# ZOEKTERM (30%) #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bar-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-label"><i class="fas fa-search"></i> Zoekterm (30%):</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# Unweighted score (0-100) voor de breedte van de balk #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% set text_unweighted_perc = (c.score_breakdown.text * 100) if c.score_breakdown.text is defined else 0 %}
                            {# Weighted score (0-30) voor de weergegeven waarde #}
                            {% set text_weighted_perc = (c.score_breakdown.text * 30) if c.score_breakdown.text is defined else 0 %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar text-bar" style="width: {{ text_unweighted_perc | round(0) }}%;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-value">{{ text_weighted_perc | round(1) }}%</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# RECENTHEID (20%) #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bar-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-label"><i class="fas fa-clock"></i> Recentheid (20%):</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {# Unweighted score (0-100) voor de breedte van de balk #}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% set recency_unweighted_perc = (c.score_breakdown.recency * 100) if c.score_breakdown.recency is defined else 0 %}
                            {# Weighted score (0-20) voor de weergegeven waarde #}
                            {% set recency_weighted_perc = (c.score_breakdown.recency * 20) if c.score_breakdown.recency is defined else 0 %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar recency-bar" style="width: {{ recency_unweighted_perc | round(0) }}%;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="bar-value">{{ recency_weighted_perc | round(1) }}%</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="score-total">Totaal: {{ total_score_perc | round(1) }}%</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </details>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  Â  <a class="btn btn-primary-card" href="{{ url_for('main.consultant_detail', profile_id=c.id) }}">Bekijk Profiel</a>
Â  Â  </div>
Â  Â  {% endfor %}
</div>

{% if not consultants %}
Â  Â  <p class="alert alert-warning">Geen consultants gevonden die overeenkomen met de criteria.</p>
{% endif %}

<style>
/* ------------------------------------------- */
/* --- VERNIEUWDE EN GEOPTIMALISEERDE CSS --- */
/* ------------------------------------------- */

/* ðŸŽ¯ STIJLEN VOOR MATCH KLEUREN */
.relevance-badge.match-low { 
Â  Â  background: #dc3545 !important; /* Rood */
Â  Â  border: 1px solid #c82333;
}
.relevance-badge.match-medium { 
Â  Â  background: #ffc107 !important; /* Oranje */
Â  Â  color: #333 !important; /* Tekstkleur aanpassen voor zichtbaarheid */
Â  Â  border: 1px solid #e0a800;
}
.relevance-badge.match-high { 
Â  Â  background: #28a745 !important; /* Groen */
Â  Â  border: 1px solid #1e7e34;
}
/* Standaard .relevance-badge behoudt zijn algemene layout */
.relevance-badge { 
Â  Â  background: #2b63c6; /* Fallback kleur */
Â  Â  padding: 10px 18px; 
Â  Â  border-radius: 8px; 
Â  Â  font-size: 1.1rem; 
Â  Â  font-weight: 800; 
Â  Â  display: inline-flex; 
Â  Â  align-items: center; 
Â  Â  margin-bottom: 15px; 
Â  Â  box-shadow: 0 4px 6px rgba(0,0,0,0.15); 
Â  Â  margin-left: 0; 
Â  Â  color: white; /* Standaard tekstkleur */
}


/* --- SCORE BREAKDOWN STYLES (Kleur/Balken) --- */
.bar-item {
Â  Â  display: grid; 
Â  Â  grid-template-columns: 140px 1fr 45px; 
Â  Â  align-items: center; 
Â  Â  gap: 5px; 
Â  Â  margin-bottom: 10px;
}
.progress-bar-container {
Â  Â  height: 14px; 
Â  Â  border-radius: 7px;
Â  Â  background-color: #e9ecef; 
Â  Â  overflow: hidden; 
Â  Â  box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
}
.progress-bar {
Â  Â  height: 100%; 
Â  Â  border-radius: 7px;
Â  Â  transition: width 0.4s ease;
Â  Â  box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
Â  Â  min-width: 5px; /* Zorgt dat balken met 0% of 1% toch zichtbaar zijn */
}

/* Kleuren voor de progress bars */
.skill-bar { background-color: #38c172 !important; } /* Groen */
.text-bar { background-color: #ffc107 !important; } /* Geel/Oranje */
.recency-bar { background-color: #17a2b8 !important; } /* Cyaan/Blauw */

.bar-value { 
Â  Â  font-weight: 700; 
Â  Â  text-align: right; 
Â  Â  font-size: 1.05rem; 
}


/* --- Consultant Kaart & Layout (Gekopieerd van Job Card) --- */

.job-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
.job-card {
Â  Â  background: #ffffff; border: 1px solid #dce6f5; border-radius: 12px; padding: 25px; box-shadow: 0 6px 15px rgba(0,0,0,0.08); transition: transform 0.2s, box-shadow 0.2s; 
Â  Â  display: flex; 
Â  Â  flex-direction: column; 
Â  Â  align-items: flex-start; /* Dwingt links uitlijning af */
}
.job-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.12); }
.job-meta-top { display: flex; justify-content: space-between; width: 100%; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #f0f4f9; }
.job-location { font-size: 0.95rem; color: #4a6fa1; display: flex; align-items: center; font-weight: 500; }
.job-location i { margin-right: 5px; color: #2b63c6; }
.contract-type-tag { font-size: 0.9rem; background: #dce6f5; color: #2b63c6; padding: 5px 10px; border-radius: 6px; display: inline-flex; align-items: center; font-weight: 600; }
.contract-type-tag i { margin-right: 5px; }

.job-title-link, .company-name { 
Â  Â  width: 100%; 
Â  Â  text-align: left; 
}
.job-title-link a { 
Â  Â  color: #2b63c6 !important; text-decoration: none; font-weight: 800; font-size: 1.5rem; 
Â  Â  display: block; 
}
.company-name { font-size: 1.05rem; color: #555; margin-bottom: 15px; font-weight: 600; border-bottom: 1px dashed #e0e0e0; padding-bottom: 15px; }

/* Score Summary */
.score-summary { 
Â  Â  margin-top: auto; 
Â  Â  padding-top: 15px; 
Â  Â  border-top: 1px solid #e0e0e0; 
Â  Â  margin-bottom: 15px; 
Â  Â  text-align: left; 
Â  Â  width: 100%; 
}

.relevance-badge i { margin-right: 8px; font-size: 1.1em; }
.btn-primary-card { background: #2b63c6; color: white; border: 1px solid #1a4f99; padding: 12px 20px; border-radius: 8px; text-decoration: none; font-weight: 700; margin-top: 10px; text-align: center; transition: background 0.2s; align-self: stretch; }
.btn-primary-card:hover { background: #1a4f99; }

/* Skills tags */
.required-skills-summary { margin-bottom: 20px; border-top: 1px dashed #f0f0f0; padding-top: 15px; width: 100%; }
.skills-label-small { font-weight: 700; display: block; margin-bottom: 8px; color: #333; font-size: 0.95rem; }
.skills-label-small i { margin-right: 5px; color: #f6993f; }
.skill-tags-wrapper { display: flex; flex-wrap: wrap; gap: 8px; }
.required-skill-tag { background: #e9f0ff; color: #2b63c6; border: 1px solid #bcd0ff; padding: 5px 10px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; display: inline-flex; align-items: center; }
.more-skills { background: #f0f4f9; border: 1px solid #dce6f5; color: #4a6fa1; }

/* Filter & Mode Stijlen (Niet gewijzigd t.o.v. Job List) */
.page-title { margin-bottom: 20px; }
.mode-selector-container { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #e0e0e0; }
.mode-selector-container h2 { margin-bottom: 15px; font-weight: 600; color: #333; }
.mode-btn { padding: 12px 25px; border-radius: 10px; transition: transform 0.2s, box-shadow 0.2s; font-weight: 700; margin-right: 15px; border: 2px solid transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-size: 1.05rem; text-decoration: none; }
.active-mode { background: #2b63c6; color: white; border-color: #1a4f99; box-shadow: 0 4px 8px rgba(43, 99, 198, 0.4); }
.inactive-mode { background: #f0f4f9; color: #2b63c6; border-color: #dce6f5; }
.inactive-mode:hover { background: #e9f0ff; border-color: #bcd0ff; transform: translateY(-1px); }
.filter-form { padding: 25px; border: 1px solid #dce6f5; border-radius: 12px; background: #f9fafe; margin-bottom: 30px; }
.form-instruction { color: #555; margin-bottom: 15px; font-size: 0.95rem; }
.manual-filter-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
.filter-form input[type="text"] { padding: 12px; border-radius: 8px; width: 100%; box-sizing: border-box; border: 1px solid #dce6f5; }
.input-group { gap: 15px; display: flex; }
.input-group input[type="text"] { flex-grow: 1; padding: 12px; margin: 0;}
.alert-info { padding: 18px; margin-bottom: 25px; font-size: 1.05rem; background: #d9e9ff; border-radius: 8px;}
.skills-filter { margin-top: 15px; margin-bottom: 20px;}
.skills-label { font-weight: 700; display: block; margin-bottom: 10px; color: #333; }
.skills-checkboxes { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
.skill-label { display: flex; align-items: center; background: #ffffff; border: 1px solid #dce6f5; padding: 10px; border-radius: 8px; font-size: 0.95rem; cursor: pointer; transition: background 0.2s, border-color 0.2s; }
.skill-label input[type="checkbox"] { margin-right: 10px; transform: scale(1.2); accent-color: #2b63c6; }
.skill-label:hover { background: #f0f4f9; }
.btn-primary { background: #2b63c6; color: white; border: 1px solid #1a4f99; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: 600; margin-right: 10px; }
.btn-secondary { background: #e9f0ff; border: 1px solid #bcd0ff; padding: 8px 14px; border-radius: 8px; text-decoration: none; color: #2b63c6; font-weight: 600; }
.reset-btn { color: #555; border: 1px solid #ccc; background: #f0f0f0; margin-top: 10px; align-self: unset; }
.apply-btn { margin-top: 10px; }


/* Score Breakdown details */
.breakdown-details { margin-top: 10px; margin-bottom: 15px; padding: 5px 0; border-top: 1px dashed #e0e0e0; border-bottom: 1px dashed #e0e0e0; font-size: 0.9rem; width: 100%; }
.breakdown-details summary { cursor: pointer; font-weight: 600; color: #4a6fa1; padding: 5px 0; list-style: none; display: flex; align-items: center; }
.breakdown-details summary i { margin-right: 8px; color: #2b63c6; }
.breakdown-details summary::-webkit-details-marker { display: none; }
.breakdown-details summary::before { 
    content: 'â–º'; display: inline-block; font-size: 0.8em; margin-right: 8px; transition: transform 0.2s;
    /* Essentieel voor de juiste positie */
    line-height: 1;
}
.breakdown-details[open] summary::before { content: 'â–¼'; transform: rotate(0deg); }
.score-breakdown { padding-top: 10px; padding-left: 0px; }
.bar-label { font-weight: 600; color: #333; display: flex; align-items: center; }
.bar-label i { margin-right: 5px; color: #2b63c6; }
.score-total { font-weight: 700; margin-top: 10px; padding-top: 5px; border-top: 1px solid #e0e0e0; text-align: right; color: #2b63c6; }
</style>

{% endblock %}