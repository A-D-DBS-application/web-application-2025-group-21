{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>Dashboard</h1>

<div class="card">
    <h2>Profiel</h2>

    <p><strong>Ingelogd als:</strong> {{ user.username }}</p>
    <p><strong>Rol:</strong> {{ user.role.value }}</p>

    {% if user.role == UserRole.consultant %}
        {% if profile.profile_image %}
            <img 
                src="{{ profile.profile_image }}" 
                alt="Profielfoto" 
                style="width:140px;height:140px;border-radius:50%;object-fit:cover;margin-bottom:12px;"
            >
        {% else %}
            <img 
                src="{{ url_for('static', filename='img/default-avatar.png') }}" 
                alt="Geen profielfoto"
                style="width:140px;height:140px;border-radius:50%;object-fit:cover;margin-bottom:12px;"
            >
        {% endif %}
        <p><strong>Naam:</strong> {{ profile.display_name_masked }}</p>
        <p><strong>Locatie:</strong> {{ profile.location_city }} , {{ profile.country }}</p>
        <p><strong>Opmerking:</strong> {{ profile.headline or "Geen headline" }}</p>

        <p><strong>E-mail:</strong> {{ profile.contact_email or "Niet ingevuld" }}</p>
        <p><strong>Telefoon:</strong> {{ profile.phone_number or "Niet ingevuld" }}</p>

        <p><strong>Skills:</strong>
            {% if profile.skills %}
                {{ profile.skills | map(attribute='name') | join(', ') }}
            {% else %}
                Geen skills geselecteerd
            {% endif %}
        </p>

        <a class="btn" href="{{ url_for('main.edit_consultant_skills') }}">Skills aanpassen</a>
        <a class="btn" href="{{ url_for('main.edit_consultant_profile') }}">Profiel aanpassen</a>
    {% endif %}

    {% if user.role == UserRole.company %}
        <p><strong>Bedrijfsnaam:</strong> {{ company.company_name_masked }}</p>
        <p><strong>Sector:</strong> {{ company.industry or "Niet ingevuld" }}</p>

        <p><strong>E-mail:</strong> {{ company.contact_email or "Niet ingevuld" }}</p>
        <p><strong>Telefoon:</strong> {{ company.phone_number or "Niet ingevuld" }}</p>

        <a class="btn" href="{{ url_for('main.job_new') }}">Nieuwe job posten</a>
        <a href="{{ url_for('main.company_jobs_list') }}">Mijn job posts</a>

        <a class="btn" href="{{ url_for('main.edit_company_profile') }}">Profiel aanpassen</a>
    {% endif %}
</div>
{% endblock %}
