{% extends "base.html" %}
{% block title %}Edit Company Profile{% endblock %}

{% block content %}
<h1>Edit company profile</h1>

<div class="edit-company-page">

    <form method="post" class="company-form">

        <!-- COMPANY NAME -->
        <label class="field-label">
            Company name:
            <input
                type="text"
                id="company_name"
                name="company_name"
                value="{{ company.company_name_masked or '' }}"
                required
            >
        </label>

        <!-- CITY -->
        <label class="field-label">
            City:
            <input
                type="text"
                id="location_city"
                name="location_city"
                value="{{ company.location_city or '' }}"
            >
        </label>

        <!-- COUNTRY -->
        <label class="field-label">
            Country:
            <input
                type="text"
                id="country"
                name="country"
                value="{{ company.country or '' }}"
            >
        </label>

        <!-- INDUSTRY (radio logic, checkbox look, max 1) -->
        <label class="field-label">
            Industries:

            {# keep backward compatibility if old data had "A, B" #}
            {% set selected = (company.industries or "").split(", ")[0] %}

            <!-- wrapper so the field-guide can react to focus-within -->
            <div class="industry-options" id="industries_group" tabindex="-1">
                {% for option in ["Technology", "Healthcare", "Finance", "Logistics", "Consulting"] %}
                    <label class="industry-item">
                        <input
                            type="radio"
                            name="industries"
                            value="{{ option }}"
                            {% if option == selected %}checked{% endif %}
                        >
                        <span class="fake-checkbox" aria-hidden="true"></span>
                        {{ option }}
                    </label>
                {% endfor %}
            </div>
        </label>

        <hr>

        <h3>Contact information (shown when unlocked)</h3>

        <!-- EMAIL -->
        <label class="field-label">
            Email address:
            <input
                type="email"
                id="contact_email"
                name="contact_email"
                value="{{ company.contact_email or '' }}"
            >
        </label>

        <!-- PHONE -->
        <label class="field-label">
            Phone number:
            <input
                type="tel"
                id="phone_number"
                name="phone_number"
                value="{{ company.phone_number or '' }}"
            >
        </label>

        <hr>

        <button class="btn" type="submit">Save changes</button>
    </form>

    <!-- BLUE FIELD HELPER POPUP (no JS) -->
    <div id="field-helper" class="field-helper">
        <div class="field-helper-title">
            <span>Field guide</span>
        </div>
        <div class="field-helper-text">
            <p class="help help-default">
                Click a field to get instructions.
            </p>
            <p class="help help-company_name">
                Use your official company or brand name. This is shown to consultants once they unlock your jobs.
            </p>
            <p class="help help-location_city">
                Enter the city where your main office or hiring location is.
            </p>
            <p class="help help-country">
                Enter the country in which this office or hiring location is based.
            </p>
            <p class="help help-industries">
                Select the industry that best describes your company.
            </p>
            <p class="help help-contact_email">
                This email is shared with consultants after they unlock your job posts. Use an inbox that is actively monitored.
            </p>
            <p class="help help-phone_number">
                A direct phone number can increase trust and response speed once you start collaborating, and will be made available once you are unlocked by a consultant.
            </p>
        </div>
    </div>

</div>
{% endblock %}
