{% extends "base.html" %}
{% block title %}Edit Company Profile{% endblock %}

{% block content %}
<h1>Edit company profile</h1>

<div class="edit-company-page">

    <form method="post" class="company-form">

        <!-- COMPANY NAME -->
        <label class="field-label">
            Company name:
            <input type="text"
                   id="company_name"
                   name="company_name"
                   value="{{ company.company_name_masked or '' }}"
                   required>
        </label>

        <!-- CITY -->
        <label class="field-label">
            City:
            <input type="text"
                   id="location_city"
                   name="location_city"
                   value="{{ company.location_city or '' }}">
        </label>

        <!-- COUNTRY -->
        <label class="field-label">
            Country:
            <input type="text"
                   id="country"
                   name="country"
                   value="{{ company.country or '' }}">
        </label>

        <!-- INDUSTRY (radio, checkbox look) -->
        <label class="field-label">
            Industry:

            {% set selected = (company.industries or "").split(", ")[0] %}

            <div class="industry-options">
                {% for option in ["Technology", "Healthcare", "Finance", "Logistics", "Consulting"] %}
                    <label class="industry-box">
                        <input type="radio"
                               name="industry"
                               value="{{ option }}"
                               {% if option == selected %}checked{% endif %}>
                        <span class="custom-box"></span>
                        <span class="industry-text">{{ option }}</span>
                    </label>
                {% endfor %}
            </div>
        </label>

        <hr>

        <h3>Contact information (shown when unlocked)</h3>

        <label class="field-label">
            Email address:
            <input type="email"
                   id="contact_email"
                   name="contact_email"
                   value="{{ company.contact_email or '' }}">
        </label>

        <label class="field-label">
            Phone number:
            <input type="tel"
                   id="phone_number"
                   name="phone_number"
                   value="{{ company.phone_number or '' }}">
        </label>

        <hr>

        <button class="btn" type="submit">Save changes</button>
    </form>

</div>

<style>
/* Layout */
.field-label {
    display: flex;
    flex-direction: column;
    margin-bottom: 0.75rem;
}

.field-label input {
    margin-top: 4px;
}

/* Industry selector */
.industry-options {
    margin-top: 6px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* Hide real radio */
.industry-box input {
    display: none;
}

/* Box wrapper */
.industry-box {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
}

/* Fake checkbox */
.custom-box {
    width: 18px;
    height: 18px;
    border: 2px solid #adb5bd;
    border-radius: 4px; /* square = checkbox look */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
}

/* Checked state */
.industry-box input:checked + .custom-box {
    background: #0d6efd;
    border-color: #0d6efd;
}

.industry-box input:checked + .custom-box::after {
    content: "âœ“";
    color: white;
    font-size: 12px;
    font-weight: 700;
}

.industry-text {
    font-weight: 500;
}
</style>

{% endblock %}
